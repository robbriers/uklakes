<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Retrieves Lake Information from UK CEH Lakes Portal • uklakes</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="apple-touch-icon.png">
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="apple-touch-icon-60x60.png">
<script src="deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet">
<link href="deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet">
<script src="deps/headroom-0.11.0/headroom.min.js"></script><script src="deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="deps/search-1.0.0/fuse.min.js"></script><script src="deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="pkgdown.js"></script><meta property="og:title" content="Retrieves Lake Information from UK CEH Lakes Portal">
<meta name="description" content="Retrieves a summary of the lake information from the UK CEH Lake Portal for a lake or series of lakes, based on the lakeid. Can also search for lakeid values based on strings in the lake name. For details of the information available, see the Lakes Portal Website (\url{https://uklakes.ceh.ac.uk/}.)">
<meta property="og:description" content="Retrieves a summary of the lake information from the UK CEH Lake Portal for a lake or series of lakes, based on the lakeid. Can also search for lakeid values based on strings in the lake name. For details of the information available, see the Lakes Portal Website (\url{https://uklakes.ceh.ac.uk/}.)">
<meta property="og:image" content="https://robbriers.github.io/uklakes/logo.png">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="index.html">uklakes</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.1.3</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item"><a class="nav-link" href="articles/uklakes.html">Get started</a></li>
<li class="nav-item"><a class="nav-link" href="reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles">
<li><a class="dropdown-item" href="articles/uklakes_output_ref.html">uklakes: details of output columns</a></li>
  </ul>
</li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="search.json">
</form></li>
      </ul>
</div>


  </div>
</nav><div class="container template-home">
<div class="row">
  <main id="main" class="col-md-9"><div class="section level1">
<div class="page-header">
<img src="logo.png" class="logo" alt=""><h1 id="uklakes-">uklakes <a class="anchor" aria-label="anchor" href="#uklakes-"></a>
</h1>
</div>
<!-- badges: start -->

<p>The <a href="https://uklakes.ceh.ac.uk/" class="external-link">UK CEH Lake Portal</a> is a GIS-based inventory of information about more than 40000 lakes across the UK. The information available for each lake varies, but includes basic physical description, typology and other information.</p>
<p>The <code>uklakes</code> package allows you to retrieve a summary of the lake information for a lake or series of lakes, based on the lake wbid (waterbody id) number. It does this by responsibly webscraping the information (using the <a href="https://cran.r-project.org/package=polite" class="external-link">polite package</a>) from the webpage of each lake. You can also search for lake wbid values based on strings in the lake name to determine the wbids to search for.</p>
<p>Information on the general physical characteristics, typology, chemistry and connectivity metrics are retrieved. Biology, Land cover and water quality information are not. For details of the information available, see the <a href="https://uklakes.ceh.ac.uk/" class="external-link">UK Lakes Portal Website</a>, or the <a href="./articles/uklakes_output_ref.html">output reference list</a>.</p>
<p>Use of the package implies acceptance of the Terms of Use available <a href="https://www.ceh.ac.uk/terms-of-use" class="external-link">here</a>.</p>
<div class="section level2">
<h2 id="installation">Installation<a class="anchor" aria-label="anchor" href="#installation"></a>
</h2>
<p>You can install the current version of uklakes from <a href="https://github.com/" class="external-link">GitHub</a> with:</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># install.packages("pak")</span></span>
<span><span class="fu">pak</span><span class="fu">::</span><span class="fu"><a href="https://pak.r-lib.org/reference/pak.html" class="external-link">pak</a></span><span class="op">(</span><span class="st">"robbriers/uklakes"</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="details-of-use">Details of use<a class="anchor" aria-label="anchor" href="#details-of-use"></a>
</h2>
<p>There are two functions in the package.</p>
<p>The <code>search_lakes</code> function allows you to search for the lake wbid numbers for lakes matching (partial or full matches, case sensitive) a string provided.</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://robbriers.github.io/uklakes/">uklakes</a></span><span class="op">)</span></span>
<span><span class="fu"><a href="reference/search_lakes.html">search_lakes</a></span><span class="op">(</span><span class="st">"Tarn"</span><span class="op">)</span></span>
<span><span class="co"># 140 lakes with 'Tarn' in the name in the portal database</span></span>
<span></span>
<span><span class="fu"><a href="reference/search_lakes.html">search_lakes</a></span><span class="op">(</span><span class="st">"Leven"</span><span class="op">)</span></span>
<span><span class="co"># two Loch Levens and one Loch of Levenwick</span></span></code></pre></div>
<p>The second function (<code>get_lake_info</code>) retrieves the available information for the lake or lakes specified (wbid numbers). You can retrieve a single lake (a single wbid value), a series (wbid numbers separated by commas), a sequence of wbids (specified in the normal R sequence manner, i.e. 45:48), a vector of wbids (either as a standalone vector or a column of a df e.g. the wbid column from the output of search_lakes or a combination of these. See examples below.</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Loch Lomond</span></span>
<span><span class="fu"><a href="reference/get_lake_info.html">get_lake_info</a></span><span class="op">(</span><span class="fl">24447</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># some small lakes in Shetland</span></span>
<span><span class="fu"><a href="reference/get_lake_info.html">get_lake_info</a></span><span class="op">(</span><span class="fl">4</span>, <span class="fl">6</span>, <span class="fl">9</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># a series of small lakes in Shetland</span></span>
<span><span class="fu"><a href="reference/get_lake_info.html">get_lake_info</a></span><span class="op">(</span><span class="fl">1232</span><span class="op">:</span><span class="fl">1238</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># the first 5 Tarns in the database</span></span>
<span><span class="va">tarns</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/search_lakes.html">search_lakes</a></span><span class="op">(</span><span class="st">"Tarn"</span><span class="op">)</span></span>
<span><span class="fu"><a href="reference/get_lake_info.html">get_lake_info</a></span><span class="op">(</span><span class="va">tarns</span><span class="op">$</span><span class="va">wbid</span><span class="op">[</span><span class="fl">1</span><span class="op">:</span><span class="fl">5</span><span class="op">]</span><span class="op">)</span></span></code></pre></div>
<p>The information is obtained by responsibly webscraping the lake information webpages. The package respects the rate limit and repeat request values specified by the robots.txt file of the UK CEH Lakes Portal pages (currently 1 request per 5 seconds and maximum of 3 attempts) and reports progress through the console. Any lakes that it fails to retrieve (either through incorrect wbids or other reasons) are reported at the end of the process.</p>
<p>The resultant output will have a different number of columns depending on what information is available for the lakes specified, giving <code>NA</code> values for those columns where the data is absent. A full listing of the possible output columns is given in the <a href="./articles/uklakes_output_ref.html">output reference list</a></p>
</div>
<div class="section level2">
<h2 id="code-of-conduct">Code of Conduct<a class="anchor" aria-label="anchor" href="#code-of-conduct"></a>
</h2>
<p>Please note that the <code>uklakes</code> package is released with a <a href="https://contributor-covenant.org/version/2/1/CODE_OF_CONDUCT.html" class="external-link">Contributor Code of Conduct</a>. By contributing to this project, you agree to abide by its terms.</p>
</div>
</div>
  </main><aside class="col-md-3"><div class="license">
<h2 data-toc-skip>License</h2>
<ul class="list-unstyled">
<li><a href="LICENSE.html">Full license</a></li>
<li><small>GPL (&gt;= 3) + file <a href="LICENSE-text.html">LICENSE</a></small></li>
</ul>
</div>

<div class="community">
<h2 data-toc-skip>Community</h2>
<ul class="list-unstyled">
<li><a href="CONTRIBUTING.html">Contributing guide</a></li>
<li><a href="CODE_OF_CONDUCT.html">Code of conduct</a></li>
</ul>
</div>

<div class="citation">
<h2 data-toc-skip>Citation</h2>
<ul class="list-unstyled">
<li><a href="authors.html#citation">Citing uklakes</a></li>
</ul>
</div>

<div class="developers">
<h2 data-toc-skip>Developers</h2>
<ul class="list-unstyled">
<li>Rob Briers <br><small class="roles"> Author, maintainer </small> <a href="https://orcid.org/0000-0003-0341-1203" target="orcid.widget" aria-label="ORCID" class="external-link"><span class="fab fa-orcid orcid" aria-hidden="true"></span></a> </li>
</ul>
</div>

<div class="dev-status">
<h2 data-toc-skip>Dev status</h2>
<ul class="list-unstyled">
<li><a href="https://github.com/robbriers/uklakes/actions/workflows/R-CMD-check.yaml" class="external-link"><img src="https://github.com/robbriers/uklakes/actions/workflows/R-CMD-check.yaml/badge.svg" alt="R-CMD-check"></a></li>
<li><a href="https://app.codecov.io/gh/robbriers/uklakes" class="external-link"><img src="https://codecov.io/gh/robbriers/uklakes/graph/badge.svg" alt="Codecov test coverage"></a></li>
<li><a href="https://lifecycle.r-lib.org/articles/stages.html#stable" class="external-link"><img src="https://img.shields.io/badge/lifecycle-stable-brightgreen.svg" alt="Lifecycle: stable"></a></li>
<li><a href="https://www.repostatus.org/#active" class="external-link"><img src="https://www.repostatus.org/badges/latest/active.svg" alt="Project Status: Active – The project has reached a stable, usable state and is being actively developed."></a></li>
<li><a href="https://github.com/robbriers/uklakes/actions?query=workflow%3Apkgcheck" class="external-link"><img src="https://github.com/robbriers/uklakes/workflows/pkgcheck/badge.svg" alt="pkgcheck"></a></li>
<li><a href="https://doi.org/10.5281/zenodo.15092618" class="external-link"><img src="https://zenodo.org/badge/DOI/10.5281/zenodo.15092618.svg" alt="DOI"></a></li>
</ul>
</div>

  </aside>
</div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Rob Briers.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

    </footer>
</div>





  </body>
</html>
